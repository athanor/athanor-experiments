This folder contains all data used for our experiments in the IJCAI2019 paper:
Attieh, S., Dang, N., Jefferson, C., Miguel, I. and Nightingale, P., 2019. Athanor: high-level local search over abstract constraint specifications in Essence. ([link](https://www.ijcai.org/Proceedings/2019/148))

List of softwares:
- [conjure](https://github.com/conjure-cp/conjure)
- [Savilerow](https://savilerow.cs.st-andrews.ac.uk/)
- [MiniZinc](https://www.minizinc.org/)
- [athanor](https://github.com/athanor/athanor)
- [chuffed](https://github.com/chuffed/chuffed)
- [yuck](https://github.com/informarte/yuck)
- [oscar_cbls](http://www.it.uu.se/research/group/astra/software)(`MiniZinc` backend)
- [choco-LNS](https://github.com/chocoteam/choco-solver)

The folder includes models and instances for six problem classes: CVRP, TSP, MEB, Knapsack, SONET and SocialGolfers. The first five are optimisation problems, while the last one is decision problem.

Source of instances:
- Capacitated Vehicle Routing Problem (CVRP): [VRP-REP library](http://vrp-rep.org/)
- Travelling Salesman Problem (TSP): [TSPLIB95](https://www.iwr.uni-heidelberg.de/groups/comopt/software/TSPLIB95/tsp/) (symmetry TSP)
- Knapsack: from [David Pisinger's homepage](http://www.diku.dk/~pisinger/) ([hard instance set](http://www.diku.dk/~pisinger/hardinstances_pisinger.tgz))
- Minimum Energy Broadcast (MEB), Synchronous Optical Networking Problem (SONET), and Social Golfers: a selection of sufficiently-hard instances from [CSPLib](http://www.csplib.org/) and generated by ourselves using the automatic algorithm configuration tool [irace](http://iridia.ulb.ac.be/irace/)


Quick summery:

The ATHANOR solver takes as input, an essence specification and an essence parameter file.  In order to target Minizinc solvers, Conjure is used with the `-ac` flag to convert an Essence specification into an Essence-prime model.  The `translate-parameterm` flag is used to convert Essence parameter files into Essence-prime parameter files.  Savilerow is used to convert these models into minizinc.  Note, a second copy of the essence-prime models were made, with top level symmetry breaking constraints disabled.  The Choco models were hand crafted In Java to match the Essence-prime models ass closely as possible.   


Folder structure:
- `Choco-LNS`:  Choco-LNS models and instances
- `Essence`: Essence models and param (instance) files
    + `Essence/models/*.essence`: Essence models. These are used directly by Athanor.
    + `Essence/models/eprime-models`: Essence Prime models generated from the Essence models through *conjure*. These are used for translating Essence instance files into `flatzinc` input format required by *oscar_cbls*, *yuck*, and *chuffed*. For each problem classes, there are three Essence Prime models: one with symmetry-breaking constraints enabled (`<problem>.eprime`), one without symmetry-breaking constraints (`<problem>-nosym.eprime`), and one with neighbourhoods encoded inside (`<problem>-sns.eprime`). The last one is for *sns* only (see our [IJCAI2018 paper](https://www.ijcai.org/Proceedings/2018/173) on sns)
    + `Essence/models/instances`: Essence param files
    + To convert an Essence param file into `flatzinc`, we use the following commands:
    ```
        conjure translate-parameter --eprime <problem>.eprime --essence-param <instance>.param --eprime-param <instance>.eprime-param
        savilerow <problem>.eprime <instance>.eprime-param -minizinc -out-minizinc <instance>.mzn
        minizinc -c --no-output-ozn <instance>.mzn -o <instance>.fzn -G <solver>
    ```
    For example, to convert the `Essence/cvrp/eil13.param` to `flatzinc` format for *yuck*:
    ```
        cd Essence
        conjure translate-parameter --eprime models/eprime-models/cvrp.eprime --essence-param instances/cvrp/eil13.param --eprime-param eil13.eprime-param
        savilerow models/eprime-models/cvrp.eprime eil13.eprime-param -minizinc -out-minizinc eil13.mzn
        minizinc -c --no-output-ozn eil13.mzn -o eil13.fzn -G yuck
    ```


